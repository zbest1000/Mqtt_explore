import e from"react";import t from"prop-types";import n from"cytoscape";function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}var r=t.string,a=t.array,l=t.object,i=t.number,u=t.bool,c=t.oneOfType,s=t.any,f=t.func,p={id:r,className:r,style:c([r,l]),elements:c([a,s]),stylesheet:c([a,s]),layout:c([l,s]),pan:c([l,s]),zoom:i,panningEnabled:u,userPanningEnabled:u,minZoom:i,maxZoom:i,zoomingEnabled:u,userZoomingEnabled:u,boxSelectionEnabled:u,autoungrabify:u,autolock:u,autounselectify:u,get:f,toJson:f,diff:f,forEach:f,cy:f,headless:u,styleEnabled:u,hideEdgesOnViewport:u,textureOnViewport:u,motionBlur:u,motionBlurOpacity:i,wheelSensitivity:i,pixelRatio:c([r,l])},d=function(e,t){if(function(e,t){return null==e||null==t}(e,t)&&(null!=e||null!=t))return!0;if(e===t)return!1;if("object"!=typeof e||"object"!=typeof t)return e!==t;var n=Object.keys(e),o=Object.keys(t),r=function(n){return e[n]!==t[n]};return n.length!==o.length||!(!n.some(r)&&!o.some(r))},y=function(e,t){return null!=e?e[t]:null},m={diff:d,get:y,toJson:function(e){return e},forEach:function(e,t){return e.forEach(t)},elements:[{data:{id:"a",label:"Example node A"}},{data:{id:"b",label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}],stylesheet:[{selector:"node",style:{label:"data(label)"}}],zoom:1,pan:{x:0,y:0}},b=function(e,t,n,o){return n(y(e,o),y(t,o))},h=/*#__PURE__*/function(t){var r,a;function l(n){var o;return(o=t.call(this,n)||this).displayName="CytoscapeComponent",o.containerRef=e.createRef(),o}a=t,(r=l).prototype=Object.create(a.prototype),r.prototype.constructor=r,o(r,a),l.normalizeElements=function(e){if(null!=e.length)return e;var t=e.nodes,n=e.edges;return null==t&&(t=[]),null==n&&(n=[]),t.concat(n)};var i,u,c=l.prototype;return c.componentDidMount=function(){var e=this.props,t=e.global,o=this._cy=new n({container:this.containerRef.current,headless:e.headless,styleEnabled:e.styleEnabled,hideEdgesOnViewport:e.hideEdgesOnViewport,textureOnViewport:e.textureOnViewport,motionBlur:e.motionBlur,motionBlurOpacity:e.motionBlurOpacity,wheelSensitivity:e.wheelSensitivity,pixelRatio:e.pixelRatio});t&&(window[t]=o),this.updateCytoscape(null,this.props)},c.updateCytoscape=function(e,t){var n=this._cy;(function(e,t,n,o,r,a,l){e.batch(function(){(o===d||b(t,n,o,"elements"))&&function(e,t,n,o,r,a,l){var i=[],u=e.collection(),c=[],s={},f={},p=function(e){return r(r(e,"data"),"id")};a(n,function(e){var t=p(e);f[t]=e}),null!=t&&a(t,function(t){var n=p(t);s[n]=t,function(e){return null!=f[e]}(n)||u.merge(e.getElementById(n))}),a(n,function(e){var t=p(e),n=function(e){return s[e]}(t);!function(e){return null!=s[e]}(t)?i.push(o(e)):c.push({ele1:n,ele2:e})}),u.length>0&&e.remove(u),i.length>0&&e.add(i),c.forEach(function(t){return function(e,t,n,o,r,a){var l=r(r(n,"data"),"id"),i=e.getElementById(l),u={};["data","position","selected","selectable","locked","grabbable","classes"].forEach(function(e){var l=r(n,e);a(l,r(t,e))&&(u[e]=o(l))});var c=r(n,"scratch");a(c,r(t,"scratch"))&&i.scratch(o(c)),Object.keys(u).length>0&&i.json(u)}(e,t.ele1,t.ele2,o,r,l)})}(e,y(t,"elements"),y(n,"elements"),r,a,l,o),b(t,n,o,"stylesheet")&&function(e,t,n,o){var r=e.style();null!=r&&r.fromJson(o(n)).update()}(e,y(t,"stylesheet"),y(n,"stylesheet"),r),["zoom","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","pan","panningEnabled","userPanningEnabled","boxSelectionEnabled","autoungrabify","autolock","autounselectify"].forEach(function(a){b(t,n,o,a)&&function(e,t,n,o,r){e[t](r(o))}(e,a,y(t,a),y(n,a),r)})}),b(t,n,o,"layout")&&function(e,t,n,o){var r=o(n);null!=r&&e.layout(r).run()}(e,y(t,"layout"),y(n,"layout"),r)})(n,e,t,t.diff,t.toJson,t.get,t.forEach),null!=t.cy&&t.cy(n)},c.componentDidUpdate=function(e){this.updateCytoscape(e,this.props)},c.componentWillUnmount=function(){this._cy.destroy()},c.render=function(){var t=this.props;return e.createElement("div",{ref:this.containerRef,id:t.id,className:t.className,style:t.style})},i=l,(u=[{key:"propTypes",get:function(){return p}},{key:"defaultProps",get:function(){return m}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(i,u),Object.defineProperty(i,"prototype",{writable:!1}),l}(e.Component);export{h as default};
//# sourceMappingURL=react-cytoscape.module.js.map
